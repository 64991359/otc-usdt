(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-transaction-transaction"],{"1ed1":function(t,e,i){"use strict";i.r(e);var n=i("6f91"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"261d":function(t,e,i){var n=i("81e6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("ccc8391a",n,!0,{sourceMap:!1,shadowMode:!1})},"2c87":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={mescrollBody:i("5909").default,navigationBar:i("89a3").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("mescroll-body",{ref:"mescrollRef",attrs:{height:t.$windowHeight-t.$statusBarHeight-50+"px",down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[i("navigationBar",{attrs:{autoBack:!1,rightText:"订单"},on:{rightClick:function(e){arguments[0]=e=t.$handleEvent(e),t.toMyOrder()}}},[i("v-uni-view",{staticClass:"flex borRadius-12 border-2",attrs:{slot:"left"},slot:"left"},t._l(t.businessList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"flex flex-y-center ptb-10 plr-30 c_ddba82",style:[t.itemStyle(n)],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change(n)}}},[t._v(t._s(e))])})),1)],1),i("v-uni-view",{staticClass:"mlr-32"},[i("v-uni-view",{staticClass:"flex rela bor-b-4 pb-10 mt-20"},[t._l(t.currencyList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item c_ddba82",class:[{"ml-20":0!==n}]},[t._v(t._s(e))])})),i("v-uni-view",{staticClass:"abso b_ddba82",staticStyle:{height:"4rpx",bottom:"-4rpx"},style:{width:t.lineWidth+"px",left:t.lineLeft-16+"px"}})],2),i("v-uni-view",{staticClass:"flex flex-x-between mt-30"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==t.current,expression:"current == 0"}],staticClass:"c_888683"},[t._v(t._s(t.purchaseMethod?"金额":"数量"))]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==t.current,expression:"current == 0"}],staticClass:"c_ddba82 flex flex-y-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePurchaseMethod.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"ri-arrow-left-right-line mr-10"}),i("v-uni-view",[t._v("按"+t._s(t.purchaseMethod?"数量":"金额")+"购买")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==t.current,expression:"current == 1"}],staticClass:"c_888683"},[t._v("数量")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==t.current,expression:"current == 1"}],staticClass:"c_ddba82"},[t._v("可用余额: "+t._s(t.userBalance)+" USDT")])],1),i("v-uni-view",{staticClass:"flex flex-y-center bor-b-2 pb-10 mt-20"},[i("v-uni-view",{staticClass:"font-36 mr-10 c_ddba82",class:[t.purchaseMethod?"ri-exchange-cny-line":"ri-exchange-dollar-line"]}),0==t.current?i("v-uni-input",{staticClass:"flex-1 c_ddba82 font-28",attrs:{placeholder:t.placeholder,type:"number",maxlength:"10"},model:{value:t.buyQuotaNumber,callback:function(e){t.buyQuotaNumber=e},expression:"buyQuotaNumber"}}):t._e(),1==t.current?i("v-uni-input",{staticClass:"flex-1 c_ddba82 font-28",attrs:{placeholder:t.placeholder,type:"number",maxlength:"10"},model:{value:t.sellOutNumber,callback:function(e){t.sellOutNumber=e},expression:"sellOutNumber"}}):t._e(),1==t.current?i("v-uni-view",{staticClass:"c_ddba82",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sellOutNumber=t.balance}}},[t._v("全部")]):t._e()],1),i("v-uni-view",{staticClass:"c_ff6060 mtb-10",style:[{opacity:t.tipsStatus?"1":"0"}]},[t._v(t._s(t.tips))]),i("v-uni-view",{staticClass:"c_888683"},[t._v(t._s(0==t.current?"请选择付款方式":"请选择收款方式"))]),0==t.current?i("v-uni-view",{staticClass:"mt-30 flex flex-x-between c_ddba82"},[i("v-uni-view",{staticClass:"flex border-2 flex-y-center flex-1 mr-20 borRadius-12 ptb-20",style:[{opacity:1==t.paymentMethod?"1":"0.3"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCard(1)}}},[i("v-uni-view",{staticClass:"ri-bank-card-fill mlr-10 font-50"}),i("v-uni-view",[t._v("银行卡")])],1),i("v-uni-view",{staticClass:"flex border-2 flex-y-center flex-1 mr-20 borRadius-12 ptb-20",style:[{opacity:2==t.paymentMethod?"1":"0.3"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCard(2)}}},[i("v-uni-view",{staticClass:"ri-wechat-pay-fill mlr-10 font-50"}),i("v-uni-view",[t._v("微信")])],1),i("v-uni-view",{staticClass:"flex flex-y-center border-2 flex-1 borRadius-12 ptb-20",style:[{opacity:3==t.paymentMethod?"1":"0.3"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCard(3)}}},[i("v-uni-view",{staticClass:"ri-alipay-fill mlr-10 font-50"}),i("v-uni-view",[t._v("支付宝")])],1)],1):t._e(),1==t.current?i("v-uni-view",{staticClass:"border-diy c_888683 borRadius-12 mt-20 flex flex-y-center plr-20 ptb-30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPaymentMethod()}}},[Object.keys(t.collectionInformation).length?i("v-uni-view",{staticClass:"flex-1 flex flex-y-center c_ddba82"},[i("v-uni-view",{staticClass:"font-40 mr-10",class:[t.identification]}),i("v-uni-view",[t._v(t._s(t.collectionInformation.holder_name)+" "+t._s(t.ollectionAccountNumber))])],1):i("v-uni-view",{staticClass:"flex-1 "},[t._v("您没有收款方式，点击添加")]),i("v-uni-view",{staticClass:"ri-arrow-right-s-line"})],1):t._e(),i("v-uni-view",{staticClass:"mt-30 flex flex-x-between c_888683"},[i("v-uni-view",[t._v("参考单价")]),i("v-uni-view",[t._v("￥"+t._s(0==t.current?t.buyPrice.toFixed(2):t.sellPrice.toFixed(2))+"/USDT")])],1),i("v-uni-view",{staticClass:"mt-10 flex flex-x-between c_888683"},[i("v-uni-view",[t._v("预计"+t._s(0==t.current?t.purchaseMethod?"获得":"支付":"获得"))]),i("v-uni-view",{staticClass:"c_ddba82"},[t._v(t._s(0==t.current&&t.purchaseMethod?"":"￥")+t._s(0==t.current?(t.purchaseMethod,t.willGetUsdt.toFixed(2)):t.willGetUsdt.toFixed(2))+"\n\t\t\t\t\t"+t._s(0==t.current&&t.purchaseMethod?"USDT":""))])],1),i("v-uni-view",{staticClass:"flex flex-x-center ptb-20 mt-30 borRadius-12 b_ddba82 c_000000",staticStyle:{opacity:"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit()}}},[t._v(t._s(0==t.current?"购买USDT":"出售USDT"))])],1)],1)],1)},a=[]},"2ed3":function(t,e,i){"use strict";i.r(e);var n=i("2c87"),r=i("c315");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("99c9");var s=i("f0c5"),u=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"98898204",null,!1,n["a"],void 0);e["default"]=u.exports},"3f5a":function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e9c4"),i("ac1f");var r=n(i("139d")),a={mixins:[r.default],data:function(){return{businessList:["购买","出售"],currencyList:["USDT"],current:0,itemRect:[],purchaseMethod:!1,minBuyQuotaNumber:16,maxBuyQuotaNumber:6200,minBuyQuotaMoney:100,maxBuyQuotaMoney:4e4,minSellOutNumber:20,maxSellOutNumber:1500,sellOutNumber:"",buyQuotaNumber:"",tipsStatus:!1,paymentMethod:0,sellPrice:6.6,buyPrice:6.7,collectionInformation:{},isPopup:!1,userBalance:0,downOption:{},upOption:{}}},watch:{buyQuotaNumber:function(){""==this.buyQuotaNumber?this.paymentMethod=0:""!=this.buyQuotaNumber&&this.buyQuotaNumber>0&&0==this.paymentMethod&&(this.paymentMethod=1)}},computed:{collectionMethod:function(){switch(this.collectionInformation.type){case"bank":return 1;case"wx":return 2;case"zfb":return 3;default:return 0}},balance:function(){return t("log","balance"," at pages/transaction/transaction.vue:153"),""!=this.userinfo?(this.userBalance=this.userinfo.usdt_nums,this.userinfo.usdt_nums):"0.00"},ollectionAccountNumber:function(){switch(this.collectionInformation.type){case"bank":return this.collectionInformation.bank_number;case"wx":return this.collectionInformation.wx_account;case"zfb":return this.collectionInformation.zfb_account}},qrCodeUrl:function(){switch(this.collectionInformation.type){case"bank":return t("log","aaaaaaaaaaaaa"," at pages/transaction/transaction.vue:180"),t("log",typeof this.collectionInformation.decp_qrcode," at pages/transaction/transaction.vue:181"),"string"==typeof this.collectionInformation.decp_qrcode?this.collectionInformation.decp_qrcode:"";case"wx":return this.collectionInformation.wx_qrcode;case"zfb":return this.collectionInformation.zfb_qrcode}},identification:function(){switch(this.collectionInformation.type){case"bank":return"ri-bank-card-fill";case"wx":return"ri-wechat-pay-fill";case"zfb":return"ri-alipay-fill"}},itemStyle:function(){var t=this,e={};return function(i){if(i==t.current)return e.background="#ddba82",e.color="#000000",e}},lineWidth:function(){return this.itemRect.length?this.itemRect[0].width:0},lineLeft:function(){return this.itemRect.length?this.itemRect[0].left:0},placeholder:function(){return this.purchaseMethod&&0==this.current?"限额 "+this.minBuyQuotaMoney+" ~ "+this.maxBuyQuotaMoney:this.purchaseMethod||0!=this.current?1==this.current?"限额 "+this.minSellOutNumber+" ~ "+this.maxSellOutNumber+" USDT":void 0:"限额 "+this.minBuyQuotaNumber+" ~ "+this.maxBuyQuotaNumber+" USDT"},tips:function(){if(0==this.current&&""!=this.buyQuotaNumber){if(this.purchaseMethod&&(this.buyQuotaNumber<this.minBuyQuotaMoney||this.buyQuotaNumber>this.maxBuyQuotaMoney))return this.tipsStatus=!0,"超出限额(￥ "+this.minBuyQuotaMoney+" ~ "+this.maxBuyQuotaMoney+")";if(!this.purchaseMethod&&(this.buyQuotaNumber<this.minBuyQuotaNumber||this.buyQuotaNumber>this.maxBuyQuotaNumber))return this.tipsStatus=!0,"超出限额("+this.minBuyQuotaNumber+" ~ "+this.maxBuyQuotaNumber+" USDT)"}return 1==this.current&&""!=this.sellOutNumber&&(this.sellOutNumber<this.minSellOutNumber||this.sellOutNumber>this.maxSellOutNumber)?(this.tipsStatus=!0,"单笔出售限额: "+this.minSellOutNumber+" ~ "+this.maxSellOutNumber+" USDT"):(this.tipsStatus=!1,"工具1")},willGetUsdt:function(){return 0==this.current?""==this.buyQuotaNumber?0:this.purchaseMethod?this.buyQuotaNumber/this.buyPrice:this.buyQuotaNumber*this.buyPrice:1==this.current?""==this.sellOutNumber?0:this.sellOutNumber*this.sellPrice:void 0}},onLoad:function(){var e=this;this.getBankList(),uni.$on("collectionMethod",(function(i){e.collectionInformation=i,t("log",JSON.stringify(i)," at pages/transaction/transaction.vue:292")}))},onShow:function(){this.getOrdercfg(),"{}"!==JSON.stringify(this.$Route.query)&&(this.current=this.$Route.query.code,1==this.$Route.query.code&&void 0!==this.$Route.query.sellOutNumber&&(this.sellOutNumber=this.$Route.query.sellOutNumber))},onUnload:function(){uni.$off("collectionMethod")},mounted:function(){var t=this;uni.createSelectorQuery().selectAll(".item").boundingClientRect((function(e){t.itemRect=e})).exec()},methods:{getBalance:function(){if(""==this.userinfo)return"0.00";this.userBalance=this.userinfo.usdt_nums},downCallback:function(){this.mescroll.resetUpScroll(!0),this.getBalance()},upCallback:function(){this.mescroll.endSuccess(!1)},getBankList:function(){var e=this;this.$api.getBankList({uid:this.uid}).then((function(t){if(1==t.data.status&&t.data.result.length)for(var i=0;i<t.data.result.length;i++){if(t.data.result[i].is_moren){e.collectionInformation=t.data.result[i];break}e.collectionInformation=t.data.result[0]}})).catch((function(e){t("log",e," at pages/transaction/transaction.vue:373")}))},getOrdercfg:function(){var e=this;this.$api.getOrdercfg({uid:this.uid}).then((function(t){1==t.data.status&&(e.buyPrice=t.data.result.config.usdt_buy_price,e.sellPrice=t.data.result.config.usdt_price)})).catch((function(e){t("log",e," at pages/transaction/transaction.vue:386")}))},toMyOrder:function(){this.$store.dispatch("set_noticepopupstatus",!0),this.$store.dispatch("set_googlepopupstatus",!0),this.$Router.push({name:"MyOrder"})},toPaymentMethod:function(){this.$store.dispatch("set_noticepopupstatus",!0),this.$store.dispatch("set_googlepopupstatus",!0),this.$Router.push({name:"paymentMethod",params:{isSelect:!0}})},change:function(t){this.current=t},changePurchaseMethod:function(){this.buyQuotaNumber="",this.purchaseMethod=!this.purchaseMethod},selectCard:function(t){this.paymentMethod=t},submit:function(){if(0!=this.paymentMethod||0!=this.current)if(0!=this.collectionMethod||1!=this.current){var t={business:!0};t.current=this.current,t.uid=this.uid,t.order_type=this.current,0==this.current&&(t.price=this.buyPrice,t.pay_account="",t.qr_code_url="",t.pay_code=this.paymentMethod,this.purchaseMethod?(t.usdt_nums=this.buyQuotaNumber/this.buyPrice,t.amount=this.buyQuotaNumber,t.tran_method=0):(t.usdt_nums=this.buyQuotaNumber,t.amount=this.buyQuotaNumber*this.buyPrice,t.tran_method=1)),1==this.current&&(t.price=this.sellPrice,t.pay_account=this.ollectionAccountNumber,t.qr_code_url=this.qrCodeUrl,t.tran_method=0,t.usdt_nums=this.sellOutNumber,t.amount=this.sellOutNumber*this.sellPrice,t.pay_code=this.collectionMethod),this.$Router.push({name:"transactionPopup",params:t})}else uni.showToast({title:"请选择收款方式",icon:"none"});else uni.showToast({title:"请选择付款方式",icon:"none"})}}};e.default=a}).call(this,i("0de9")["log"])},"6e40":function(t,e,i){"use strict";var n=i("261d"),r=i.n(n);r.a},"6f91":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("e25e");var n={props:{height:{type:[String,Number],default:44},iconType:{type:String,default:"ri-arrow-left-s-line"},iconSize:{type:[String,Number],default:50},iconColor:{type:String,default:"#ddba82"},fontSize:{type:[String,Number],default:32},fontColor:{type:[String],default:"#ddba82"},title:{type:String,default:""},rightText:{type:String,default:""},bgColor:{type:String,default:"#1e1e1e"},placeholder:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#000000"},autoBack:{type:Boolean,default:!0},Color:{type:Boolean,default:!1},scrollTop:{type:Number,default:0},isGradualChange:{type:Boolean,default:!1}},name:"navigationBar",data:function(){return{opacity:0}},created:function(){},computed:{rgba:function(){var t=[],e=this.$tool.rgba(this.bgColor);return t[0]=parseInt(e[1],16),t[1]=parseInt(e[2],16),t[2]=parseInt(e[3],16),t}},watch:{scrollTop:{immediate:!0,handler:function(){this.fixed&&this.isGradualChange&&(0==this.scrollTop?this.opacity=0:this.scrollTop>this.height?this.opacity=1:this.opacity=this.scrollTop/this.height)}},isGradualChange:{immediate:!0,handler:function(){this.isGradualChange&&(this.opacity=0),this.isGradualChange||(this.opacity=1)}}},methods:{leftClick:function(){this.autoBack?this.$Router.back():this.$emit("leftClick")},rightClick:function(){this.$emit("rightClick")}}};e.default=n},"752a":function(t,e,i){var n=i("f632");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("0a8a4bd8",n,!0,{sourceMap:!1,shadowMode:!1})},"81e6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.navbar--fixed[data-v-f655fec0]{position:fixed;top:0;left:0;z-index:11}.navbar--fixed--center[data-v-f655fec0]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}',""]),t.exports=e},"89a3":function(t,e,i){"use strict";i.r(e);var n=i("e333"),r=i("1ed1");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("6e40");var s=i("f0c5"),u=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"f655fec0",null,!1,n["a"],void 0);e["default"]=u.exports},"99c9":function(t,e,i){"use strict";var n=i("752a"),r=i.n(n);r.a},c315:function(t,e,i){"use strict";i.r(e);var n=i("3f5a"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e333:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"navbar"},[t.fixed&&t.placeholder?i("v-uni-view",{style:[{height:Number(t.$statusBarHeight+t.height)+"px"}]}):t._e(),i("v-uni-view",{class:[t.fixed&&"navbar--fixed","wid-100"],style:[{background:"rgba("+t.rgba[0]+","+t.rgba[1]+","+t.rgba[2]+","+t.opacity+")"}]},[i("v-uni-view",{style:[{height:t.$statusBarHeight+"px"}]}),i("v-uni-view",{staticClass:"flex flex-y-center flex-x-between plr-32",style:[{height:t.height+"px","border-bottom":t.border?"2rpx solid"+t.borderColor:"","font-size":t.fontSize+"rpx",color:t.fontColor}]},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.leftClick.apply(void 0,arguments)}}},[t._t("left",[i("v-uni-view",{class:[t.iconType],style:[{"font-size":t.iconSize+"rpx",color:t.iconColor}]})])],2),i("v-uni-view",{staticClass:"navbar--fixed--center fontWei-600"},[t._t("center",[t._v(t._s(t.title))])],2),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rightClick.apply(void 0,arguments)}}},[t._t("right",[t._v(t._s(t.rightText))])],2)],1)],1)],1)},r=[]},f632:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.border-diy[data-v-98898204]{border:%?2?% solid #888683}',""]),t.exports=e}}]);