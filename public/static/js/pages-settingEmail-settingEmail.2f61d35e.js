(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-settingEmail-settingEmail"],{"0701":function(t,i,n){var e=n("85ae");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("7c218fe1",e,!0,{sourceMap:!1,shadowMode:!1})},"0bc6":function(t,i,n){"use strict";(function(t){n("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n("498a"),n("d401"),n("d3b7"),n("25f0");var e={data:function(){return{email:"",confirmStatus:!1,modifyStatus:!1,verificationCode:"",countDown:60,trim:"",text:"发送",verificationCodeStatus:!1}},onBackPress:function(t){return this.confirmStatus?(this.confirmStatus=!1,!0):!!this.modifyStatus&&(this.modifyStatus=!1,!0)},onHide:function(){this.clearInterval()},onUnload:function(){this.clearInterval()},watch:{countDown:function(){0==this.countDown&&this.clearInterval()}},computed:{isBinding:function(){return""==this.userinfo.email},emailVerificationOffNo:function(){return null!==this.userinfo.email_yz&&0!==this.userinfo.email_yz},Active:function(){var t=this;return function(i,n){return 0==i||void 0!==t[n][i]}}},methods:{focus:function(t){this[t]=!0},blur:function(t,i){i.length||(this[t]=!1)},confirmClose:function(){this.confirmStatus=!1},confirm:function(){this.modifyStatus=!0,this.confirmClose()},modifyClose:function(){this.modifyStatus=!1},replace:function(){this.confirmStatus=!0},send:function(){var t=this;60==this.countDown&&(this.getEmailCode(),this.trim=setInterval((function(){t.countDown--,t.text=t.countDown+"s"}),1e3))},clearInterval:function(t){function i(){return t.apply(this,arguments)}return i.toString=function(){return t.toString()},i}((function(){""!=this.trim&&(clearInterval(this.trim),this.countDown=60,this.text="发送")})),nextStep:function(){var t={validationList:[!1,!0,!1,!1],type:"emailAdd",email:this.email};this.$Router.push({name:"verification",params:t})},getEmailCode:function(){var i={username:this.userinfo.username,email:this.userinfo.email,type:"get"};this.$api.getEmailCode(i).then((function(i){t("log",i," at pages/settingEmail/settingEmail.vue:183"),uni.showToast({title:i.data.message,icon:"none"})})).catch((function(i){t("log",i," at pages/settingEmail/settingEmail.vue:189")}))},change:function(){var i=this;if(this.emailVerificationOffNo){this.$Router.push({name:"verification",params:{validationList:[!1,!0,!1,!1],type:"emailValidationOffNo"}})}else this.$api.setSwitch({uid:this.uid,status:1,type:"email",email:this.userinfo.email}).then((function(t){uni.showToast({title:t.data.message,icon:"none",success:function(){1==t.data.status&&(i.$set(i.userinfo,"email_yz",1),i.$store.dispatch("set_userinfo",i.userinfo))}})})).catch((function(i){t("log",i," at pages/settingEmail/settingEmail.vue:228")}))},submit:function(){var i=this;this.$api.changeEmail({old_email:this.userinfo.email,new_email:this.email,code:this.verificationCode}).then((function(t){uni.showToast({title:t.data.message,icon:"none",success:function(){1==t.data.status&&(i.$set(i.userinfo,"email",i.email),i.$store.dispatch("set_userinfo",i.userinfo),i.modifyClose())}})})).catch((function(i){t("log",i," at pages/settingEmail/settingEmail.vue:251")}))}}};i.default=e}).call(this,n("0de9")["log"])},"15bb":function(t,i,n){"use strict";var e=n("0701"),a=n.n(e);a.a},"80e4":function(t,i,n){"use strict";n.r(i);var e=n("0bc6"),a=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=a.a},"85ae":function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.bor-b-diy[data-v-63730211]{border-bottom:%?2?% solid rgba(136,134,131,.1)}.item[data-v-63730211]{display:flex;justify-content:center;align-items:center;width:%?50?%;height:%?50?%}',""]),t.exports=i},d0aa:function(t,i,n){"use strict";n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={navigationBar:n("89a3").default,uSwitch:n("1555").default,uPopup:n("b80f").default},a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[n("navigationBar",{attrs:{title:"设置邮箱"}}),n("v-uni-view",{staticClass:"mlr-32"},[t.isBinding?n("v-uni-view",[n("v-uni-textarea",{staticClass:"c_ddba82 bor-b-2 pb-20 wid-100",attrs:{"auto-height":"true",placeholder:"邮箱地址"},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}}),n("v-uni-view",{staticClass:"flex flex-x-center ptb-20 b_ddba82 c_000000 borRadius-12 mt-50",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.nextStep()}}},[t._v("下一步")])],1):t._e(),t.isBinding?t._e():n("v-uni-view",{staticClass:"borRadius-12 b_2d2c2b over-hid c_ddba82"},[n("v-uni-view",{staticClass:"flex mlr-32 ptb-32 flex-y-center bor-b-diy",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.replace()}}},[n("v-uni-view",{staticClass:"flex-1"},[t._v("更换邮箱")]),n("v-uni-view",{staticClass:"ri-arrow-right-line c_888683"})],1),n("v-uni-view",{staticClass:"flex flex-y-center mlr-32 ptb-32"},[n("v-uni-view",{staticClass:"flex-1"},[t._v("邮箱验证")]),n("u-switch",{attrs:{asyncChange:!0,activeColor:"#ddba82",size:"18"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}},model:{value:t.emailVerificationOffNo,callback:function(i){t.emailVerificationOffNo=i},expression:"emailVerificationOffNo"}})],1)],1)],1),n("u-popup",{attrs:{round:"12",show:t.confirmStatus},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.confirmClose.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"b_2d2c2b plr-32",staticStyle:{"border-radius":"12rpx 12rpx 0 0"}},[n("v-uni-view",{staticClass:"c_888683 mt-30 mb-50"},[t._v("提示")]),n("v-uni-view",{staticClass:"c_ddba82 mb-50"},[t._v("安全设置更改后，24小时内无法提币和c2c出售。更换手机后，您下一次登录需要通过新的邮箱地址登录，是否继续？")]),n("v-uni-view",{staticClass:"flex mb-30"},[n("v-uni-view",{staticClass:"flex-1 flex flex-x-center ptb-20 b_888683 c_000000 borRadius-12",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.confirmClose.apply(void 0,arguments)}}},[t._v("取消")]),n("v-uni-view",{staticClass:"flex-1 flex flex-x-center ptb-20 ml-32 b_ddba82 c_000000 borRadius-12",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.confirm.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1),n("u-popup",{attrs:{round:"12",show:t.modifyStatus},on:{close:function(i){arguments[0]=i=t.$handleEvent(i),t.modifyClose.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"b_2d2c2b plr-32",staticStyle:{"border-radius":"12rpx 12rpx 0 0"}},[n("v-uni-view",{staticClass:"c_888683 flex mt-20 mb-30"},[n("v-uni-view",{staticClass:"flex-1 flex flex-x-center c_ddba82"},[t._v("更换邮箱")]),n("v-uni-view",{staticClass:"ri-close-line font-45",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modifyClose.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"b_ddba82 borRadius-12 p-20 c_000000 mt-20"},[t._v("安全设置更改后，24小时内无法提币和c2c出售")]),n("v-uni-view",{staticClass:"c_888683 mt-20"},[t._v("新邮箱地址")]),n("v-uni-input",{staticClass:"c_ddba82 bor-b-2 pb-20 mt-20",attrs:{placeholder:"邮箱地址"},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}}),n("v-uni-view",{staticClass:"c_888683 mt-20"},[t._v("邮箱验证码"),n("v-uni-label",{staticClass:"c_ddba82"},[t._v("(验证码将发送到原绑定邮箱上)")])],1),n("v-uni-view",{staticClass:"flex flex-x-between"},[n("v-uni-view",{staticClass:"flex rela"},[n("v-uni-input",{staticClass:"abso wid-100 heig-100 opacity-0",attrs:{maxlength:"6",type:"number"},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.focus("verificationCodeStatus")},blur:function(i){arguments[0]=i=t.$handleEvent(i),t.blur("verificationCodeStatus",t.verificationCode)}},model:{value:t.verificationCode,callback:function(i){t.verificationCode=i},expression:"verificationCode"}}),t._l(6,(function(i,e){return n("v-uni-view",{key:e,staticClass:"item c_ddba82",class:[{"ml-20":0!=e}],style:[{"border-bottom":"2rpx solid "+[t.verificationCodeStatus&&t.Active(e,"verificationCode")?"#ddba82":"#888683"]}]},[t._v(t._s(t.verificationCode[e]))])}))],2),n("v-uni-view",{staticClass:"c_ddba82",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.send()}}},[t._v(t._s(t.text))])],1),n("v-uni-view",{staticClass:"flex flex-x-center ptb-20 b_ddba82 c_000000 borRadius-12 mtb-30",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1)},s=[]},ec4f:function(t,i,n){"use strict";n.r(i);var e=n("d0aa"),a=n("80e4");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(s);n("15bb");var o=n("f0c5"),c=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,"63730211",null,!1,e["a"],void 0);i["default"]=c.exports}}]);