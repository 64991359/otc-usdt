(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-transferAccounts-transferAccounts"],{"1ed1":function(t,e,i){"use strict";i.r(e);var n=i("6f91"),s=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},"261d":function(t,e,i){var n=i("81e6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("ccc8391a",n,!0,{sourceMap:!1,shadowMode:!1})},"3fba":function(t,e,i){"use strict";i.r(e);var n=i("5b65"),s=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},"5b65":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e9c4"),i("ac1f"),i("d401"),i("d3b7"),i("25f0"),i("fb6a");var n={data:function(){return{linkList:["TRC20"],current:0,height:0,show:!1,ercAddress:"",trcAddress:"",input_amount:"",usdt_balance:0,commission:0,default_free:0,default_free_temp:0,user_free:0,timer:"",userfree:0,actual:0}},onBackPress:function(t){return!!this.show&&(this.show=!1,!0)},computed:{},onLoad:function(){var t=this;"{}"!==JSON.stringify(this.$Route.query)&&this.$Route.query.isHome&&(this.current=this.$Route.query.type,0==this.current?this.trcAddress=this.$Route.query.address:this.ercAddress=this.$Route.query.address),uni.$on("selectAddress",(function(e){0==t.current?t.trcAddress=e:t.ercAddress=e}))},onUnload:function(){uni.$off("selectAddress")},onShow:function(){this.getTransfer()},mounted:function(){var t=this;uni.createSelectorQuery().select(".posFixed").boundingClientRect((function(e){t.height=e.height})).exec()},methods:{all:function(){this.input_amount=this.usdt_balance,this.getinput()},makeSign:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={},i=getApp().globalData.atTime,n=getApp().globalData.appPrivateKey,s=this.token,r=n+s+i+t;return e.time=i,e.sign=this.$md5(r).toString(),e},getinput:function(){var e=this;this.$api.testAddress({uid:this.userinfo.uid,add:this.trcAddress}).then((function(i){if(t("log","test_address"," at pages/transferAccounts/transferAccounts.vue:159"),1==i.data.status)e.user_free=0,e.default_free=0,e.userfree=0,e.actual=e.input_amount;else{e.default_free=e.default_free_temp;var n=e.input_amount*e.default_free/100;e.user_free=(e.commission+n).toFixed(4),e.userfree=(e.commission+n).toFixed(4);var s=e.input_amount-(e.input_amount*e.default_free/100+e.commission);e.actual=s.toFixed(2)}t("log",e.default_free," at pages/transferAccounts/transferAccounts.vue:178")})).catch((function(e){t("log",e," at pages/transferAccounts/transferAccounts.vue:183")}))},myaddress_check:function(){var t=0==this.current?"trc20":"erc20";if("trc20"==t||"erc20"==t){var e=0==this.current?this.trcAddress:this.ercAddress,i=e.slice(0,1);if("undefined"==e||""==i||null==i)return uni.showToast({title:"收款地址不能为空，请输入",icon:"none",duration:3e3}),!1;if("trc20"==t&&"t"!=i&&"T"!=i)return uni.showToast({title:"收款地址不正确，请重新输入",icon:"none",duration:3e3}),!1}else{var n=add.slice(0,2);if("erc20"==t&&"0x"!=n&&"0X"!=n)return uni.showToast({title:"收款地址不正确，请重新输入",icon:"none",duration:3e3}),!1}return!0},change:function(t){this.current=t},open:function(){(0!=this.current||""!=this.trcAddress)&&(1!=this.current||""!=this.ercAddress)?""!=this.input_amount?this.input_amount>this.usdt_balance?uni.showToast({title:"可用余额不足",icon:"none"}):this.show=!0:uni.showToast({title:"金额不能为空",icon:"none"}):uni.showToast({title:"地址不能为空",icon:"none"})},close:function(){this.show=!1,0==this.default_free&&(this.userfree="0");var t=this.input_amount*this.default_free/100+this.commission;if(this.userfree=t.toFixed(2),""!==this.input_amount){var e=this.input_amount-(this.input_amount*this.default_free/100+this.commission);0==this.default_free&&(this.actual=this.input_amount),this.actual=e.toFixed(2)}},getTransfer:function(){var e=this;this.$api.getTransfer({uid:this.userinfo.uid,token:this.token,getfree:1}).then((function(i){t("log","getTransfer"," at pages/transferAccounts/transferAccounts.vue:296"),1==i.data.status&&(e.usdt_balance=i.data.result.usdt_nums,e.commission=i.data.result.commission,e.default_free=i.data.result.default_free,t("log","default_free"," at pages/transferAccounts/transferAccounts.vue:304"),t("log",e.default_free," at pages/transferAccounts/transferAccounts.vue:305"),e.default_free_temp=i.data.result.default_free)})).catch((function(e){t("log",e," at pages/transferAccounts/transferAccounts.vue:312")}))},submit:function(){var e=this.myaddress_check();if(!1!==e){var i={uid:this.userinfo.uid,arrival:this.actual,userFree:this.userfree,amount:this.input_amount,type:0==this.current?"trc20":"erc20",to_address:0==this.current?this.trcAddress:this.ercAddress},n=0==this.current?this.trcAddress:this.ercAddress,s=this.makeSign(n);t("log",JSON.stringify(s)," at pages/transferAccounts/transferAccounts.vue:333"),i.time=s.time,i.sign=s.sign;var r={validationList:[!1,!1,!0,!1],type:"submitTransfer",Data:i};this.userinfo.email_yz&&(r.validationList[1]=!0),this.userinfo.phone_yz&&(r.validationList[0]=!0),this.userinfo.verification_status&&(r.validationList[3]=!0),this.$Router.push({name:"verification",params:r}),this.close()}else this.close()},toAddress:function(){this.$Router.push({name:"address",params:{isSelect:!0,type:this.current}})},scanCode:function(){var e=this;uni.scanCode({success:function(t){var i=t.result.slice(0,1),n=t.result.slice(0,2);"T"==i||"t"==i?(e.trcAddress="",e.current=0,e.trcAddress=t.result):"0X"==n||"0x"==n?(e.ercAddress="",e.current=1,e.ercAddress=t.result):uni.showToast({title:"二维码不支持",icon:"none"})},fail:function(e){t("log",e," at pages/transferAccounts/transferAccounts.vue:414")}})}}};e.default=n}).call(this,i("0de9")["log"])},"6e40":function(t,e,i){"use strict";var n=i("261d"),s=i.n(n);s.a},"6f91":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("e25e");var n={props:{height:{type:[String,Number],default:44},iconType:{type:String,default:"ri-arrow-left-s-line"},iconSize:{type:[String,Number],default:50},iconColor:{type:String,default:"#ddba82"},fontSize:{type:[String,Number],default:32},fontColor:{type:[String],default:"#ddba82"},title:{type:String,default:""},rightText:{type:String,default:""},bgColor:{type:String,default:"#1e1e1e"},placeholder:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#000000"},autoBack:{type:Boolean,default:!0},Color:{type:Boolean,default:!1},scrollTop:{type:Number,default:0},isGradualChange:{type:Boolean,default:!1}},name:"navigationBar",data:function(){return{opacity:0}},created:function(){},computed:{rgba:function(){var t=[],e=this.$tool.rgba(this.bgColor);return t[0]=parseInt(e[1],16),t[1]=parseInt(e[2],16),t[2]=parseInt(e[3],16),t}},watch:{scrollTop:{immediate:!0,handler:function(){this.fixed&&this.isGradualChange&&(0==this.scrollTop?this.opacity=0:this.scrollTop>this.height?this.opacity=1:this.opacity=this.scrollTop/this.height)}},isGradualChange:{immediate:!0,handler:function(){this.isGradualChange&&(this.opacity=0),this.isGradualChange||(this.opacity=1)}}},methods:{leftClick:function(){this.autoBack?this.$Router.back():this.$emit("leftClick")},rightClick:function(){this.$emit("rightClick")}}};e.default=n},"81e6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.navbar--fixed[data-v-f655fec0]{position:fixed;top:0;left:0;z-index:11}.navbar--fixed--center[data-v-f655fec0]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}',""]),t.exports=e},"83e9":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={navigationBar:i("89a3").default,uPopup:i("b80f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("navigationBar",{attrs:{title:"USDT转账"}}),i("v-uni-view",{staticClass:"mlr-32"},[i("v-uni-view",{staticClass:"mt-20 c_ddba82"},[t._v("链名称")]),i("v-uni-view",{staticClass:"flex mt-20"},t._l(t.linkList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"ptb-10 plr-20 border-2 borRadius-12 c_ddba82",class:{"ml-20":0!==n,"b_ddba82 c_000000":n==t.current},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change(n)}}},[t._v(t._s(e))])})),1),i("v-uni-view",{staticClass:"c_ddba82 mtb-20"},[t._v("收款地址")]),i("v-uni-view",{staticClass:"pb-20 bor-b-2 flex flex-y-center c_ddba82"},[i("v-uni-view",{staticClass:"ri-send-plane-fill mr-10"}),0==t.current?i("v-uni-textarea",{key:"trcAddress",staticClass:"font-22 flex-1 mlr-20",attrs:{"auto-height":!0,placeholder:"请输入或长按粘贴地址"},model:{value:t.trcAddress,callback:function(e){t.trcAddress=e},expression:"trcAddress"}}):t._e(),1==t.current?i("v-uni-textarea",{key:"ercAddress",staticClass:"font-22 flex-1 mlr-20",attrs:{"auto-height":!0,placeholder:"请输入或长按粘贴地址"},model:{value:t.ercAddress,callback:function(e){t.ercAddress=e},expression:"ercAddress"}}):t._e(),i("v-uni-view",{staticClass:"ri-contacts-book-line font-35",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddress()}}}),i("v-uni-view",{staticClass:"ri-qr-scan-2-line font-35 ml-20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scanCode()}}})],1),i("v-uni-view",{staticClass:"c_ddba82 mtb-20"},[t._v("转账金额")]),i("v-uni-view",{staticClass:"pb-20 bor-b-2 flex flex-y-center c_ddba82"},[i("v-uni-view",{staticClass:"ri-exchange-dollar-line mr-10"}),i("v-uni-input",{staticClass:"flex-1 font-28",attrs:{placeholder:"限额",type:"number"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.getinput()}},model:{value:t.input_amount,callback:function(e){t.input_amount=e},expression:"input_amount"}}),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.all()}}},[t._v("全部")])],1),i("v-uni-view",{staticClass:"c_ddba82 mtb-20"},[t._v("可转账余额："+t._s(t.usdt_balance.toFixed(2)))]),i("v-uni-view",{staticClass:"c_ddba82 mtb-20"},[t._v("手续费")]),i("v-uni-label",{staticClass:"flex flex-y-center c_888683"},[t._v("-"),i("v-uni-input",{staticClass:"flex-1 text-r",attrs:{disabled:"true",placeholder:"0"},model:{value:t.user_free,callback:function(e){t.user_free=e},expression:"user_free"}})],1),i("v-uni-view",{style:[{height:t.height+"px"}]})],1),i("v-uni-view",{staticClass:"posFixed wid-100 bottom-0 b_2d2c2b border-tr-radius-12 border-tl-radius-12"},[i("v-uni-label",{staticClass:"flex plr-32 flex-y-center mt-30 c_ddba82"},[i("v-uni-view",{staticClass:"flex-1"},[t._v("实际到账")]),t._v(t._s(t.actual))],1),i("v-uni-view",{staticClass:"flex flex-x-center mlr-32 ptb-20 borRadius-12 mtb-30 c_000000 b_ddba82",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[t._v("转账")])],1),i("u-popup",{attrs:{round:"12",show:t.show},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"b_2d2c2b plr-32 ptb-30 c_ddba82",staticStyle:{"border-radius":"12rpx 12rpx 0 0"}},[i("v-uni-view",{staticClass:"flex flex-x-between mb-30"},[i("v-uni-view"),i("v-uni-view",[t._v("转账")]),i("v-uni-view",{staticClass:"ri-close-line",staticStyle:{"font-size":"45rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"mt-20 c_888683"},[t._v("您将给对方转账")]),i("v-uni-view",{staticClass:"mt-10 fontWei-600 c_ddba82"},[t._v(t._s(t.input_amount)+"USDT")]),i("v-uni-view",{staticClass:"mt-20 c_888683"},[t._v("收款地址")]),i("v-uni-view",{staticClass:"mt-10 fontWei-600 c_ddba82"},[t._v(t._s(0==t.current?t.trcAddress:t.ercAddress))]),i("v-uni-view",{staticClass:"mt-20 c_888683"},[t._v("手续费")]),i("v-uni-view",{staticClass:"mt-10 fontWei-600 c_ddba82"},[t._v(t._s(t.userfree)+"USDT")]),i("v-uni-view",{staticClass:"mt-20 c_888683"},[t._v("实际到账")]),i("v-uni-view",{staticClass:"mt-10 fontWei-600 c_ddba82"},[t._v(t._s(t.actual)+"USDT")]),i("v-uni-view",{staticClass:"flex flex-x-center ptb-20 mt-30 b_ddba82 c_000000 borRadius-12",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("确认转账")])],1)],1)],1)},r=[]},"89a3":function(t,e,i){"use strict";i.r(e);var n=i("e333"),s=i("1ed1");for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);i("6e40");var a=i("f0c5"),u=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,"f655fec0",null,!1,n["a"],void 0);e["default"]=u.exports},ddb7:function(t,e,i){"use strict";i.r(e);var n=i("83e9"),s=i("3fba");for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);var a=i("f0c5"),u=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,"7cfec0d3",null,!1,n["a"],void 0);e["default"]=u.exports},e333:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"navbar"},[t.fixed&&t.placeholder?i("v-uni-view",{style:[{height:Number(t.$statusBarHeight+t.height)+"px"}]}):t._e(),i("v-uni-view",{class:[t.fixed&&"navbar--fixed","wid-100"],style:[{background:"rgba("+t.rgba[0]+","+t.rgba[1]+","+t.rgba[2]+","+t.opacity+")"}]},[i("v-uni-view",{style:[{height:t.$statusBarHeight+"px"}]}),i("v-uni-view",{staticClass:"flex flex-y-center flex-x-between plr-32",style:[{height:t.height+"px","border-bottom":t.border?"2rpx solid"+t.borderColor:"","font-size":t.fontSize+"rpx",color:t.fontColor}]},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.leftClick.apply(void 0,arguments)}}},[t._t("left",[i("v-uni-view",{class:[t.iconType],style:[{"font-size":t.iconSize+"rpx",color:t.iconColor}]})])],2),i("v-uni-view",{staticClass:"navbar--fixed--center fontWei-600"},[t._t("center",[t._v(t._s(t.title))])],2),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rightClick.apply(void 0,arguments)}}},[t._t("right",[t._v(t._s(t.rightText))])],2)],1)],1)],1)},s=[]}}]);